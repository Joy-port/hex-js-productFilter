{"version":3,"sources":["all.js"],"names":["list","document","querySelector","selectLocation","total","form","submitBtn","formLocation","formInput","Array","from","querySelectorAll","data","location","title","description","rating","inStock","price","imgUrl","limit","url","getApi","addEventListener","switchLocation","forEach","item","checkValidation","addProduct","axios","get","then","res","renderData","renderSelect","error","console","log","inputData","str","content","area","rate","name","group","format","innerHTML","selectGroup","map","newSelectGroup","filter","index","indexOf","selectStr","textContent","length","e","filterData","target","value","totalNum","preventDefault","classList","contains","valueAry","product","id","Date","getTime","push","remove","add","reg","replace","trim","input","parseInt"],"mappings":"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","file":"all.js","sourcesContent":["// 版型資料設計\n\n// 地區用 change 監聽\n// 上方新增的地區跟下方篩選的地區都寫死選項（依照目前提供的 JSON data area 欄位）\n// 地區的篩選下拉需要加上『全部地區』option\n// 不需要有「清除資料」的按鈕\n// 預設資料為 3 筆（內容需依照目前提供的 JSON data）\n// 篩選後會顯示『搜尋資料為 ? 筆』\n// 描述欄位使用 textarea\n// 星級區間是 1-10 分\n// 金額、組數、星級的 type 為 Number\n\nconst list = document.querySelector('.list');\nconst selectLocation = document.querySelector('.category-group');\nconst total = document.querySelector('.js-totalNum');\nconst form = document.querySelector('.search-lists');\nconst submitBtn = document.querySelector('.js-btn');\nconst formLocation = document.querySelector('.js-location');\nconst formInput = Array.from(form.querySelectorAll('.input-primary'));\n\n//week 5 data\nlet data =[\n  {\n    location: '台北',\n    title: '綠島自由行套裝行程',\n    description: '嚴選超高CP值綠島自由行套裝行程，多種綠島套裝組合，提供台東綠島來回船票、綠島環島機車、綠島民宿住宿，行程加贈『綠島浮潛體驗』以及『綠島生態導覽』，讓你用輕鬆的綠島套裝自由行，也能深度認識綠島在地文化。',\n    rating: 8.6,\n    inStock: 8,\n    price: 1280,\n    imgUrl: './assets/images/1.png'\n  },\n  {\n    location: '台北',\n    title: '清境高空觀景步道二日遊',\n    description: '清境農場青青草原數十公頃碧草，餵食著數以百計的綿羊和牛群，中央山脈最高的北三段群峰形成一堵如帶的高牆，攔住清晨的薄霧山嵐，成就了從花蓮翻山而來的雲瀑在濁水溪谷積成雲海，這些景觀豐沛了清境觀景步道的風格，也涵養它無可取代的特色。',\n    rating: 8.2,\n    inStock: 12,\n    price: 2580,\n    imgUrl: './assets/images/2.png'\n  },\n  {\n    location: '台中',\n    title: '南庄度假村露營車二日遊',\n    description: '南庄雲水豪華露營車，快來擁有最愜意的露營體驗吧！ 一泊一食，輕鬆享受露營車樂趣。 獨立衛浴與私人戶外露臺。 入住豪華露營車還能使用戶外SPA大眾湯，感受美人湯魅力。',\n    rating: 9.2,\n    inStock: 2,\n    price: 2480,\n    imgUrl: './assets/images/3.png'\n  },\n  {\n    location: '台中',\n    title: '山林悠遊雙人套票',\n    description: '山林悠遊套票，結合南投清境高空步道、雙龍瀑布七彩吊橋、瑞龍瀑布園區之熱門景點，帶您飽覽南投瑰麗的自然環境，體驗變化無窮的地形景觀，喜歡挑戰高空的您一定不可錯過。 （含雙龍瀑布入場券 x2）',\n    rating: 9.3,\n    inStock: 0,\n    limit: '限時搶購',\n    price: 880,\n    imgUrl: './assets/images/4.png'\n  },\n  {\n    location: '台中',\n    title: '漁樂碼頭釣魚體驗套票',\n    description: '台中全新親子景點寶熊漁樂碼頭，為知名釣具公司「OKUMA」所創立的觀光工廠。一樓藍白希臘漁村風商店街免費參觀。二樓釣魚故事館則設立全台唯一虛擬釣場，透過導覽讓你知道如何釣魚、魚餌怎麼區分，寓教於樂的台中景點！',\n    rating: 8.2,\n    inStock: 5,\n    price: 1280,\n    imgUrl: './assets/images/5.png'\n  },\n  {\n    location: '高雄',\n    title: '熊森公園親子二日遊套票',\n    description: '來自日本最受歡迎的兒童遊樂園《 BearSon Park 熊森公園》於全世界有800多家據點，在全世界、日本及台灣，很多小孩的童年都在遊戲愛樂園裡一同成長，提供兒童一個最富教育性及娛樂性的休憩遊樂天地！',\n    rating: 8.6,\n    inStock: 3,\n    price: 2480,\n    imgUrl: './assets/images/6.png'\n}\n  // {\n  //   \"id\": 0,\n  //   \"name\": \"肥宅心碎賞櫻3日\",\n  //   \"imgUrl\": \"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80\",\n  //   \"area\": \"高雄\",\n  //   \"description\": \"賞櫻花最佳去處。肥宅不得不去的超讚景點！\",\n  //   \"group\": 87,\n  //   \"price\": 1400,\n  //   \"rate\": 10\n  // },\n  // {\n  //   \"id\": 1,\n  //   \"name\": \"貓空纜車雙程票\",\n  //   \"imgUrl\": \"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n  //   \"area\": \"台北\",\n  //   \"description\": \"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感\",\n  //   \"group\": 99,\n  //   \"price\": 240,\n  //   \"rate\": 2\n  // },\n  // {\n  //   \"id\": 2,\n  //   \"name\": \"台中谷關溫泉會1日\",\n  //   \"imgUrl\": \"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80\",\n  //   \"area\": \"台中\",\n  //   \"description\": \"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。\",\n  //   \"group\": 20,\n  //   \"price\": 1765,\n  //   \"rate\": 7\n  // }\n];\n\n//week 6 data\nlet url ='https://raw.githubusercontent.com/hexschool/js-training/main/travelApi.json';\n// Make a request for a user with a given ID\nfunction getApi(){\n  selectLocation.addEventListener(\"change\", switchLocation);\n  formInput.forEach(item => item.addEventListener('keyup', checkValidation));\n  submitBtn.addEventListener(\"click\", checkValidation);\n  submitBtn.addEventListener(\"click\", addProduct);\n\n  axios.get(url)\n    .then(function (res) {\n      // handle success\n      data = res.data.data;\n      //console.log(data);\n      renderData(data);\n      renderSelect(data);\n    })\n    .catch(function (error) {\n      // handle error\n      console.log(error);\n  });\n\n}\n\n\n//資料渲染\nfunction renderData(inputData){\n  //渲染當前票券資訊\n  let str ='';\n  inputData.forEach(item => {\n    let content =`<li class=\"col-md-6 col-lg-4 mb-4\">\n        <div class=\"card d-flex flex-column h-100\">\n            <div class=\"card-tag-top\">${item.area}</div>\n            <img src=\"${item.imgUrl}\" alt=\"product img\" class=\"card-img-top\">\n            <div class=\"card-body d-flex flex-column justify-content-between position-relative h-100\">\n              <div className=\"h-100\">\n                <div class=\"card-tag-middle\">${item.rate}</div>\n                <h3 class=\"text-primary h4 border-0 border-bottom border-primary lh-base | mb-6\">${item.name}</h3>\n                <p class=\"mb-4\">${item.description}</p>\n              </div>\n              <div class=\"d-flex justify-content-between align-items-center flex-wrap gap-1\">\n                  <p class=\"text-primary align-middle text-nowarp ${item.group!== 0 ? 'd-block': 'd-none'}\">\n                      <span class=\"material-icons-outlined me-1 align-middle card-icon\">\n                      error\n                      </span>\n                      剩下最後 <span>${item.group}</span> 組\n                  </p>\n                  <p class=\"text-primary align-middle text-nowarp ${item.group!== 0 ? 'd-none': 'd-block'}\">\n                      <span class=\"material-icons-outlined me-1 align-middle card-icon\">\n                      error\n                      </span>\n                      ${item.limit}\n                  </p>\n                  <p class=\"text-primary align-middle text-nowarp\">\n                      TWD <span class=\"h2 mb-0 ms-1 align-middle\">$${format(item.price)}</span>\n                  </p>\n              </div>\n          </div>\n          </div>\n      </li>\n    `;\n    str += content ;\n  });\n  list.innerHTML = str;\n}\n\nfunction renderSelect(inputData){\n  //渲染地區資料\n  let str = '';\n  let selectGroup = inputData.map(item => item.area);\n  let newSelectGroup = selectGroup.filter((item,index)=> selectGroup.indexOf(item)=== index);\n  let selectStr= '<option value=\"全部地區\" selected>全部地區</option>';\n\n  newSelectGroup.forEach(item =>{\n    let content =`\n    <option value=\"${item}\">${item}</option>\n    `;\n    str += content;\n  })\n  selectLocation.innerHTML = selectStr + str;\n  formLocation.innerHTML = `<option selected disabled value=\"\">請選擇景點地區</option>` + str;\n  total.textContent = inputData.length;\n}\n\n\n// 顯示地區資料篩選\nfunction switchLocation(e){\n  //console.log(e.target.value);\n  let filterData =[];\n\n  if(e.target.value ==='全部地區'){\n    filterData = data ;\n  }else{\n    filterData = data.filter(function(item){\n      return e.target.value === item.area;\n    });\n  };\n  \n  selectLocation.value = e.target.value;\n  \n  let totalNum = filterData.length;\n  total.textContent = totalNum;\n  renderData(filterData);\n};\n\n//新增商品\nfunction addProduct(e){\n  e.preventDefault();\n  if(!e.target.classList.contains('js-btn')){\n    return ;\n  };\n\n  let valueAry = formInput.map(item => item.value);\n\n  let product ={\n    name: valueAry[0],\n    imgUrl: valueAry[1],\n    area: valueAry[2],\n    price: format(valueAry[3]),\n    group: valueAry[4],\n    rate: valueAry[5],\n    description: valueAry[6],\n    id: new Date().getTime()\n  };\n\n\n  data.push(product);\n  formInput.forEach(function(item,index){\n    item.value =\"\" ; \n    formInput[index].classList.remove('is-valid');\n  });\n  formLocation.value=\"請選擇景點地區\";\n  submitBtn.classList.add('disabled');\n\n  renderData(data);\n}\n//加入千分位符號\nfunction format(value){\n  const reg = /\\d{1,3}(?=(\\d{3})+$)/g;   \n  return (value + '').replace(reg, '$&,');\n};\n\n//表單驗證\nfunction checkValidation(){\n  formInput.forEach(function(item,index){\n    if(item.value.trim()===''){\n      formInput[index].classList.add('is-invalid');\n    }else{\n      formInput[index].classList.remove('is-invalid');\n      formInput[index].classList.add('is-valid');\n    };\n    if(item.classList.contains('is-invalid')){\n      submitBtn.classList.add('disabled');\n    }else{\n      submitBtn.classList.remove('disabled');\n    };\n  });\n  let input = formInput[5].value;\n\n   //判斷票數數量\n   if(parseInt(input)>0 && parseInt(input)<= 10){\n    formInput[index].classList.remove('is-invalid');\n    formInput[5].classList.add('is-valid');\n  }else{\n    formInput[5].classList.add('is-invalid');\n  };\n}\n\n\n//取得資料\ngetApi();"]}